---
const { name, description, url, image, category, issueDate, retiringOn } = Astro.props
import { Image } from 'astro:assets'
import { getLangFromUrl, useTranslations } from '@i18n/utils'
const lang = getLangFromUrl(Astro.url)
const t = useTranslations(lang)
---

<a
  href={url}
  target="_blank"
  class="relative flex flex-col items-stretch duration-300 ease-out p-7 sm:p-3 group h-100 rounded-2xl"
>
  <span
    class="absolute inset-0 z-20 block w-full h-full duration-300 ease-out bg-transparent border border-transparent border-dashed group-hover:-translate-x-1 group-hover:-translate-y-1 group-hover:border group-hover:border-neutral-300 dark:group-hover:border-neutral-600 group-hover:border-dashed rounded-2xl group-hover:bg-white dark:group-hover:bg-neutral-950"
  ></span>
  <span
    class="absolute inset-0 z-10 block w-full h-full duration-300 ease-out border border-dashed rounded-2xl border-neutral-300 dark:border-neutral-600 group-hover:translate-x-1 group-hover:translate-y-1"
  ></span>
  <span
    class="relative z-30 block duration-300 ease-out group-hover:-translate-x-1 group-hover:-translate-y-1"
  >
    <span class="block w-full">
      <Image src={image} alt={name} class="size-20 aspect-[500/490]" decoding="async"
             loading="lazy"
             width={500} height={490} />
    </span>
    <span class="block w-full px-1 mt-5 mb-1 sm:mt-3">
      <span
        class="flex items-center mb-0 text-base font-semibold tracking-tight text-neutral-900 dark:text-neutral-100"
      >
        <span>{name}</span>
        <svg
          class="group-hover:translate-x-0 group-hover:translate-y-0 -rotate-45 translate-y-1 -translate-x-1 w-2.5 h-2.5 stroke-current ml-1 transition-all ease-in-out duration-200 transform"
          viewBox="0 0 13 15"
        ><g
          stroke="none"
          stroke-width="1"
          fill="none"
          fill-rule="evenodd"
          stroke-linecap="round"
          stroke-linejoin="round"
        ><g
          id="svg"
          transform="translate(0.666667, 2.333333)"
          stroke="currentColor"
          stroke-width="2.4"
        ><g
        ><polyline
          class="transition-all duration-200 ease-out opacity-0 delay-0 group-hover:opacity-100"
          points="5.33333333 0 10.8333333 5.5 5.33333333 11"
        ></polyline><line
          class="transition-all duration-200 ease-out transform -translate-x-1 opacity-0 group-hover:translate-x-0 group-hover:opacity-100 group-hover:ml-0"
          x1="10.8333333"
          y1="5.5"
          x2="0.833333333"
          y2="5.16666667"></line></g
        ></g
        ></g
        ></svg
        >
      </span>

    <div class="mt-5 mb-2 flex flex-col sm:mt-0 sm:flex-row sm:flex-wrap sm:space-x-6">
        <div class="mt-2 flex items-center text-sm text-gray-500">
            <svg class="mr-1.5 h-5 w-5 flex-shrink-0 text-gray-400" viewBox="0 0 20 20" fill="currentColor"
                 aria-hidden="true">
                <path fill-rule="evenodd"
                      d="M5.75 2a.75.75 0 01.75.75V4h7V2.75a.75.75 0 011.5 0V4h.25A2.75 2.75 0 0118 6.75v8.5A2.75 2.75 0 0115.25 18H4.75A2.75 2.75 0 012 15.25v-8.5A2.75 2.75 0 014.75 4H5V2.75A.75.75 0 015.75 2zm-1 5.5c-.69 0-1.25.56-1.25 1.25v6.5c0 .69.56 1.25 1.25 1.25h10.5c.69 0 1.25-.56 1.25-1.25v-6.5c0-.69-.56-1.25-1.25-1.25H4.75z"
                      clip-rule="evenodd" />
            </svg>
          {issueDate}
        </div>
        <div class="mt-2 flex items-center text-sm text-gray-500">
            <span
              class="inline-flex items-center rounded-md bg-gray-50 px-2 py-1 text-xs font-medium text-gray-600 ring-1 ring-inset ring-gray-500/10">{category}</span>
        </div>
    </div>  
    
      <span class="text-sm text-neutral-600 dark:text-neutral-400"
      >{description}</span
      >

      {(retiringOn) &&
        <div class="mt-2 flex items-center text-sm text-gray-500">
          <svg class="mr-1.5 h-5 w-5 flex-shrink-0 text-gray-400" viewBox="0 0 24 24" fill="#000000">
            <g stroke-width="0"></g>
            <g stroke-linecap="round" stroke-linejoin="round"></g>
            <defs>
              <style>.cls-1 {
                fill: none;
                stroke: #9CA3AF;
                stroke-miterlimit: 10;
                stroke-width: 1.91px;
              }</style>
            </defs>
            <line class="cls-1" x1="10.09" y1="13.89" x2="13.91" y2="13.89"></line>
            <polyline class="cls-1" points="10.09 8.16 12 8.16 12 13.89"></polyline>
            <path class="cls-1"
                  d="M1.5,5.3v9.54a3.82,3.82,0,0,0,3.82,3.82H7.23v2.86L13,18.66h5.73a3.82,3.82,0,0,0,3.82-3.82V5.3a3.82,3.82,0,0,0-3.82-3.82H5.32A3.82,3.82,0,0,0,1.5,5.3Z"></path>
            <line class="cls-1" x1="11.05" y1="5.3" x2="12.95" y2="5.3"></line>
          </svg>
          {t('certifications.retiring')} {retiringOn}
        </div>
      }
    </span>
  </span>
</a>
